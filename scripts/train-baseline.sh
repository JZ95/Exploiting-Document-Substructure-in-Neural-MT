#!/bin/sh
source ./vars
script_dir=`dirname $0`
src_dir=$script_dir/../src
model_dir=$script_dir/models

CUDA_VISIBLE_DEVICES=0,1 $src_dir/train.py \
    --mode baseline-nmt \
    --batch_size 100 \
    --model $ckpt_dir/baseline-nmt \
    --dictionaries $model_dir/vocab.zh.json $model_dir/vocab.en.json \
    --datasets $data_dir/corpus.bpe.zh.small $data_dir/corpus.bpe.en.small \
    --valid_datasets $data_dir/dev.bpe.zh $data_dir/dev.bpe.en \
    --valid_script ./valid-baseline-nmt.sh \
    --valid_freq 20 \
    --disp_freq 10 \
    --embedding_size 500 \
    --maxlen-sent 60 \
    --word_rnn_enc_depth 2 \
    --word_rnn_state_size 512 \
    --rnn_dec_depth 2 \
    --rnn_layer_normalisation \
    --sample_freq 40000 
